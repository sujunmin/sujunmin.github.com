---
title: 搬家紀錄
date: 2016-06-07 14:11:58
tags: Networks
---

又開始寫 blog 了，之前一直想搬家都沒法成功，這次花了點時間終於完成了，特別紀錄一下給需要的人參考。

原來的規劃是這樣的。

- 在 [github][1] 上面開 web page
- 使用 [hexo][2] 來作 blog 系統 (台灣人做的當然要支持)
- 把之前在 [xuite][3] 的文章移轉到新 blog

但是發現到從 [xuite][3] 匯出的 [Movable Type][4] 格式不是正式的規格，所以 [hexo][2] 的 plugin 或是第三方轉檔程式都不吃這個，後來就想說要不要算開第2站方式進行，但是也懶了，就刪除掉了。

之前也有想說把原來的 blog 移轉到 [Blogger][5] 所以找到一個不錯的工具 [BlogTrans][6]，寫的很棒，只是找不太到官方網站了，其中它有轉到 Blogger ATOM XML 的功能，一直以為就轉到 [Blogger][5] 這樣，最近發現到 [hexo][2] 有吃 [Blogger][5] RSS 的功能，就開始真正的搬家活動了。

流程如下。
1. 在 [xuite][3] 把檔案轉出來
2. 開 [BlogTrans][6] 轉檔至 Blogger ATOM XML，如果有留言可以選擇合併到本文裡
3. 把生出來的檔案放在一個網頁空間裡，我是放在 Google Drive 分享
   - 這篇文章提到如何取得分享的真實連結(因為 Google Drive 分享文字檔會開 Web Viewer)
   - [Share Direct Links to Files in Google Drive and Skip the Web Viewer][7]
   - 得到 網址A
4. 安裝與設定 [hexo][2] 與 [github][1] 上傳
   - 這裡建議如果需要多台機器都會編輯的時候，blog 系統就需要一併放在 [github][1] 上
   - 這篇文章提到如何透過 [Travis-CI][8] 自動化上版流程，蠻不賴的，以後不管那台機器有沒有相同的環境，只要 clone 主體一份就能編輯了
   - [手把手教你使用Travis CI自动部署你的Hexo博客到Github上][9]
   - [2016/06/14 更新] 這裡提到的方法是重建 master 以達到自動佈署的功能，如果原來的 github pages 已經有東西了怎麼辦? 參考[這裡][12]修改一下 [travis.yml][11] 來處理。
    - hexo 設定 root (_config.yml)
    - Git 設定
    - `git config core.sparseCheckout true`
    - `git remote add -f origin` 下載 git 資料
    - `echo "blog/" >> .git/info/sparse-checkout` 設定只 checkout `blog` 資料夾
    - 複製要佈署的資料到 `blog`
    - git push
   - 其他的 [hexo][2] 跟 theme 教學網路上寫的都不賴
5. hexo-migrator-rss
   - 在 blog 裡頭的 package.json 加一行 `"hexo-migrator-rss": "^0.1.2",`
   - npm install
   - hexo migrate rss 網址A
   - 可以看它應該會自動匯入了
6.  後續整理
   - 多一個奇怪的 tag https://www.blogger.com/site2008...
   - 需自己移除掉
   - [xuite vip到期 原圖外連無法使用 如何才能看到圖呢?其實很簡單][10]

[1]: https://github.com/
[2]: https://hexo.io/
[3]: http://blog.xuite.net/retsamsu/diary 
[4]: https://movabletype.org/
[5]: https://www.blogger.com/
[6]: https://sourceforge.net/projects/blogtrans/files/
[7]: http://lifehacker.com/share-direct-links-to-files-in-google-drive-and-skip-th-1493813665
[8]: https://travis-ci.org/
[9]: http://www.jianshu.com/p/e22c13d85659
[10]: http://blog.xuite.net/evelyn7768/blog/130563164-xuite+vip%E5%88%B0%E6%9C%9F+%E5%8E%9F%E5%9C%96%E5%A4%96%E9%80%A3%E7%84%A1%E6%B3%95%E4%BD%BF%E7%94%A8+%E5%A6%82%E4%BD%95%E6%89%8D%E8%83%BD%E7%9C%8B%E5%88%B0%E5%9C%96%E5%91%A2%3F%E5%85%B6%E5%AF%A6%E5%BE%88%E7%B0%A1%E5%96%AE+
[11]: https://raw.githubusercontent.com/sujunmin/sujunmin.github.com/blog-source/.travis.yml
[12]: http://stackoverflow.com/questions/600079/is-there-any-way-to-clone-a-git-repositorys-sub-directory-only
<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>從 SQL Server 到 MariaDB - [10] DBA Daily Check Report 的製作 [2] | 隨意記事</title><link rel="stylesheet" type="text/css" href="/blog//css/normalize.css"><link rel="stylesheet" type="text/css" href="/blog//css/highlight.css"><link rel="stylesheet" type="text/css" href="/blog//css/very-simple.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
 google_ad_client: "ca-pub-0187888667607442",
 enable_page_level_ads: true
 });
</script></head><body><!-- include the sidebar--><!-- include ./includes/sidebar.jade--><!-- Blog title and subtitle--><header><div class="container header"><a id="logo" href="/blog/." class="title">隨意記事</a><span class="subtitle"></span><label id="toggle-menu" for="menu" onclick><i class="fa fa-bars"></i></label></div></header><!-- use checkbox hack for toggle nav-bar on small screens--><input id="menu" type="checkbox"><!-- Navigation Links--><nav id="nav"><div class="container"><a href="/blog/" class="sidebar-nav-item">Home</a><a href="/blog/archives" class="sidebar-nav-item">Archives</a></div></nav><div id="header-margin-bar"></div><!-- gallery that comes before the header--><div class="wrapper"><div class="container post-header"><h1>從 SQL Server 到 MariaDB - [10] DBA Daily Check Report 的製作 [2]</h1></div></div><div class="wrapper"><div class="container meta"><div class="post-time">2016-12-27</div><div class="post-tags"><a class="post-tag-link" href="/blog/tags/MSSQL/">MSSQL</a>/<a class="post-tag-link" href="/blog/tags/MariaDB/">MariaDB</a></div></div></div><article><div class="container post"><h3 id="Event-Status。"><a href="#Event-Status。" class="headerlink" title="Event Status。"></a>Event Status。</h3><p>這個取得資料的方式，除了之前提到的<a href="https://sujunmin.github.io/blog/2016/09/10/%E5%BE%9E%20SQL%20Server%20%E5%88%B0%20MariaDB%20-%20[4]%20SQL%20Agent%20%E8%88%87%20MariaDB%20Event/">擴充 Event</a>  可以得到 Event 結果以外，就是系統的 <code>information_schema.EVENTS</code> 可以得到相關資訊。</p>
<h4 id="DB-Event-Name-Last-Run-Time"><a href="#DB-Event-Name-Last-Run-Time" class="headerlink" title="DB, Event Name, Last Run Time"></a>DB, Event Name, Last Run Time</h4><p>這些都能從 <code>information_schema.EVENTS</code> 拿 (<code>event_schema</code>, <code>event_name</code>, <code>last_executed</code>)。</p>
<h4 id="Event-種類"><a href="#Event-種類" class="headerlink" title="Event 種類"></a>Event 種類</h4><p>Event 種類有 <code>ENABLE</code>, <code>DISABLE</code>, <code>SLAVESIDE_DISABLED</code> (Replication 時從 Master 傳來的 Event，不會在 Slave 執行)，根據實際情形作標示。</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">CASE status 
  WHEN &#39;ENABLED&#39; THEN &#39;&lt;div class=&quot;Healthy&quot;&gt;Yes&lt;/div&gt;&#39; 
  WHEN &#39;SLAVESIDE_DISABLED&#39; THEN &#39;&lt;div class=&quot;Healthy&quot;&gt;No&lt;/div&gt;&#39; 
  ELSE &#39;&lt;div class=&quot;Warning&quot;&gt;No&lt;/div&gt;&#39; 
END,
</code></pre>
<h4 id="Succeed"><a href="#Succeed" class="headerlink" title="Succeed"></a>Succeed</h4><p>根據 <code>master.event</code> 與 <code>information_schema.EVENTS</code> 來 count，沒有 <code>errno</code> 的就是成功的。</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">CASE (select count(*) from master.event_history where db = ev.EVENT_SCHEMA and name = ev.EVENT_NAME and errno is null and start &gt;= subdate(now(), @NumDays)) 
  WHEN 0 THEN CONCAT(&#39;&lt;div class=&quot;Warning&quot;&gt;&#39;, (select count(*) from master.event_history where db = ev.EVENT_SCHEMA and name = ev.EVENT_NAME and errno is null and start &gt;= subdate(now(), @NumDays)), &#39;&lt;/div&gt;&#39;) 
  ELSE (select count(*) from master.event_history where db = ev.EVENT_SCHEMA and name = ev.EVENT_NAME and errno is null and start &gt;= subdate(now(), @NumDays)) 
END,
</code></pre>
<h4 id="Failed"><a href="#Failed" class="headerlink" title="Failed"></a>Failed</h4><p>根據 <code>master.event</code> 與 <code>information_schema.EVENTS</code> 來 count，有 <code>errno</code> 的就是失敗的。</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">CASE (select count(*) from master.event_history where db = ev.EVENT_SCHEMA and name = ev.EVENT_NAME and errno is not null and start &gt;= subdate(now(), @NumDays)) 
  WHEN 0 THEN &#39;&lt;div class=&quot;Healthy&quot;&gt;0&lt;/div&gt;&#39; 
  ELSE CONCAT(&#39;&lt;div class=&quot;Critical&quot;&gt;&#39;, (select count(*) from master.event_history where db = ev.EVENT_SCHEMA and name = ev.EVENT_NAME and errno is not null and start &gt;= subdate(now(), @NumDays)),&#39;&lt;/div&gt;&#39;) 
END,
</code></pre>
<h4 id="Next-Run-Time"><a href="#Next-Run-Time" class="headerlink" title="Next Run Time"></a>Next Run Time</h4><p>根據 <code>master.event</code> 可以用算的，但是算的動作不能直接傳入 column 裡頭的值 (<code>select date_add(colA, interval interval_value interval_field)...</code>)，所以寫成醜醜的 <code>CASE</code>。</p>
<p>這個部份是我覺得最沒有自動化的地方。</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">case interval_field
  when &quot;YEAR&quot;        then date_add(last_executed, interval interval_value YEAR)
  when &quot;QUARTER&quot;    then date_add(last_executed, interval interval_value QUARTER)
  when &quot;MONTH&quot;        then date_add(last_executed, interval interval_value MONTH)
  when &quot;DAY&quot;        then date_add(last_executed, interval interval_value DAY)
  when &quot;HOUR&quot;        then date_add(last_executed, interval interval_value HOUR)
  when &quot;MINUTE&quot;        then date_add(last_executed, interval interval_value MINUTE)
  when &quot;WEEK&quot;        then date_add(last_executed, interval interval_value WEEK)
  when &quot;SECOND&quot;        then date_add(last_executed, interval interval_value SECOND)
end,
</code></pre>
<p>(這個 interval 不是全部，我只有寫常用的)</p>
<h4 id="Last-Result"><a href="#Last-Result" class="headerlink" title="Last Result"></a>Last Result</h4><p>根據 <code>master.event</code> 與 <code>information_schema.EVENTS</code> 來看最後一次結果的內容。</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">(select CASE 
          WHEN errno is null THEN CONCAT(&#39;&lt;span class=&quot;Healthy&quot;&gt;&#39;, message_text, &#39;&lt;/span&gt;&#39;) 
          ELSE CONCAT(&#39;&lt;span class=&quot;Critical&quot;&gt;&#39;, message_text, &#39;&lt;/span&gt;&#39;) 
        END 
 from master.event_history where db = ev.EVENT_SCHEMA and name = ev.EVENT_NAME order by start limit 1),
</code></pre>
<h3 id="Fail-Event"><a href="#Fail-Event" class="headerlink" title="Fail Event"></a>Fail Event</h3><p>只要看之前作的 <a href="https://sujunmin.github.io/blog/2016/09/10/%E5%BE%9E%20SQL%20Server%20%E5%88%B0%20MariaDB%20-%20[4]%20SQL%20Agent%20%E8%88%87%20MariaDB%20Event/"><code>master.event_history</code></a> 就可以了。</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">select &#39;&lt;tr&gt;&lt;td&gt;&#39;, `db`, &#39;&lt;/td&gt;&lt;td&gt;&#39;, `name`, &#39;&lt;/td&gt;&lt;td&gt;&#39;, `start`, &#39;&lt;/td&gt;&lt;td&gt;&#39;, `end`, &#39;&lt;/td&gt;&lt;td&gt;&#39;, `sqlstate`, &#39;&lt;/td&gt;&lt;td&gt;&#39;, `errno` , &#39;&lt;/td&gt;&lt;td&gt;&#39;, `message_text`, &#39;&lt;/td&gt;&lt;td&gt;&#39;, `record_time`, &#39;&lt;/td&gt;&lt;/tr&gt;&#39; from master.event_history where errno is not null and start &gt;= subdate(now(), @NumDays);
</code></pre>
<h3 id="Database-File-Status"><a href="#Database-File-Status" class="headerlink" title="Database File Status"></a>Database File Status</h3><p>這部份的資料可以從 <code>information_schema.tables</code> 來處理，以下為重要的欄位與說明。</p>
<table>
<thead>
<tr>
<th style="text-align:left">欄位</th>
<th style="text-align:left">說明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>data_length</code></td>
<td style="text-align:left">資料大小</td>
</tr>
<tr>
<td style="text-align:left"><code>index_length</code></td>
<td style="text-align:left">Index大小</td>
</tr>
<tr>
<td style="text-align:left"><code>data_free</code></td>
<td style="text-align:left">剩餘空間</td>
</tr>
</tbody>
</table>
<p>所以一個 table file 的大小 = <code>data_length</code> + <code>index_length</code> + <code>data_free</code>。<br>用掉的大小 = <code>data_length</code> + <code>index_length</code>。</p>
<p>知道這些配合一些告警就能完成了。</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">SELECT &#39;&lt;tr&gt;&lt;td&gt;&#39;, table_schema, 
              &#39;&lt;/td&gt;&lt;td&gt;&#39;,table_name,
              &#39;&lt;/td&gt;&lt;td&gt;&#39;, concat(@@datadir, table_schema, &#39;\\&#39;, table_name, &#39;.*&#39;),
              &#39;&lt;/td&gt;&lt;td&gt;&#39;, Round((data_length + index_length + data_free) / 1024 / 1024 , 1),
           &#39;&lt;/td&gt;&lt;td&gt;&#39;, Round((data_length + index_length) / 1024 / 1024 , 1),
           &#39;&lt;/td&gt;&lt;td&gt;&#39;, Round((data_free) / 1024 / 1024 , 1),
           &#39;&lt;/td&gt;&lt;td&gt;&#39;, CASE WHEN Round((data_length + index_length)/(data_length + index_length + data_free) * 100 , 2) &gt; @CriticalThresholdPCT AND Round((data_length + index_length + data_free) / 1024 / 1024 , 1) &gt; 1 THEN CONCAT(&#39;&lt;div class=&quot;Critical&quot;&gt;&#39;, Round((data_length + index_length)/(data_length + index_length + data_free) * 100 , 2),&#39;&lt;/div&gt;&#39;)
                                WHEN Round((data_length + index_length)/(data_length + index_length + data_free) * 100 , 2) &gt; @WarningThresholdPCT AND Round((data_length + index_length + data_free) / 1024 / 1024 , 1) &gt; 1 THEN CONCAT(&#39;&lt;div class=&quot;Warning&quot;&gt;&#39;, Round((data_length + index_length)/(data_length + index_length + data_free) * 100 , 2),&#39;&lt;/div&gt;&#39;)
                        ELSE CONCAT(&#39;&lt;div class=&quot;Healthy&quot;&gt;&#39;, Round((data_length + index_length)/(data_length + index_length + data_free) * 100 , 2),&#39;&lt;/div&gt;&#39;) END,
              &#39;&lt;/td&gt;&lt;/tr&gt;&#39;
FROM   information_schema.tables where table_schema not in (&#39;performance_schema&#39;, &#39;mysql&#39;, &#39;information_schema&#39;)
order by table_schema, table_name;
</code></pre>
<h3 id="Session-List"><a href="#Session-List" class="headerlink" title="Session List"></a>Session List</h3><p>只要看 <code>information_schema.PROCESSLIST</code> 就可以了。</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">select &#39;&lt;tr&gt;&lt;td&gt;&#39;, id,
&#39;&lt;/td&gt;&lt;td&gt;&#39;, user, 
&#39;&lt;/td&gt;&lt;td&gt;&#39;, host, 
&#39;&lt;/td&gt;&lt;td&gt;&#39;, db, 
&#39;&lt;/td&gt;&lt;td&gt;&#39;, command, 
&#39;&lt;/td&gt;&lt;td&gt;&#39;, REPLACE(REPLACE(info,&#39;&lt;&#39;,&#39;&lt;&#39;), &#39;&gt;&#39;, &#39;&gt;&#39;),
&#39;&lt;/td&gt;&lt;td&gt;&#39;, state, 
&#39;&lt;/td&gt;&lt;td&gt;&#39;, memory_used, 
&#39;&lt;/td&gt;&lt;td&gt;&#39;, time, 
&#39;&lt;/td&gt;&lt;td&gt;&#39;, query_id, 
&#39;&lt;/td&gt;&lt;/tr&gt;&#39; from information_schema.PROCESSLIST order by id;
</code></pre>
<p>中間的 replace 是因為用到這個 Powershell 時，也是會在 <code>information_schema.PROCESSLIST</code> 呈現的，如果沒有替換一下，就會混亂了，所以要先 escape。</p>
<h3 id="Replication-Status"><a href="#Replication-Status" class="headerlink" title="Replication Status"></a>Replication Status</h3><p>這個是說希望能在報表中知道 Slave 的基本狀況，尤其是 Slave 如果發生 Error，會卡在那邊，如果 binlog 有 expire 時間的話，太晚知道問題解決完後 binlog 因 expire 會不見，就有機會無法復原。</p>
<p>首先，先透過 <code>information_schema.GLOBAL_STATUS</code> 的 <code>SLAVE_RUNNING</code> 看該台機器是 Master 還是 Slave (在 <a href="https://github.com/sujunmin/MariaDBDailyCheckScripts/blob/master/CheckSlave.sql" target="_blank" rel="noopener"><code>CheckSlave.sql</code></a>中)</p>
<p></p><p class="code-caption" data-lang="sql" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="sql">select case variable_value when &#39;ON&#39; then &#39;O&#39; else &#39;&#39; end from information_schema.GLOBAL_STATUS where variable_name=&#39;SLAVE_RUNNING&#39;;
</code></pre>
<p>如果是的話就是 Slave。</p>
<p>看 Slave 狀態，指令是 <code>show slave status</code> (在 <a href="https://github.com/sujunmin/MariaDBDailyCheckScripts/blob/master/ShowSlaveStatus.sql" target="_blank" rel="noopener"><code>ShowSlaveStatus.sql</code></a> 中)，但這個指令我找了很久，完全不知道是 reference 哪個 table 或是 variable，於是只能自己 Parsing 了。</p>
<p></p><p class="code-caption" data-lang="powershell" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy="Copy Code"><span class="code-caption-label"></span><a class="code-caption-copy">Copy Code</a></p><p></p>
<pre><code class="powershell">$Html = $Html + &quot;&lt;h2&gt;Slave Status&lt;/h2&gt;&quot;
&amp; $mysqlexe -u $rptuser --password=$rptpass -h $ServerIP -sN -e &quot;source .\ShowSlaveStatus.sql&quot; &gt; out.html

if ((Get-Item .\out.html).length -gt 0)
{
$Html = $Html + &quot;&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;Master Host&lt;/th&gt;
&lt;th&gt;Master Log File&lt;/th&gt;
&lt;th&gt;Relay Master Log File&lt;/th&gt;
&lt;th&gt;Slave IO State&lt;/th&gt;
&lt;th&gt;Last Errno&lt;/th&gt;
&lt;th&gt;Last Error&lt;/th&gt;
&lt;th&gt;Last IO Errno&lt;/th&gt;
&lt;th&gt;Last IO Error&lt;/th&gt;
&lt;th&gt;Last SQL Errno&lt;/th&gt;
&lt;th&gt;Last SQL Error&lt;/th&gt;
&lt;/tr&gt;&quot;

$stat = [string[]](Get-Content .\out.html)

$Html = $Html + &quot;&lt;tr&gt;&lt;td&gt;&quot; + $stat[2] + &quot;&lt;/td&gt;&lt;td&gt;&quot; + $stat[6] + &quot;&lt;/td&gt;&lt;td&gt;&quot; + $stat[10] + &quot;&lt;/td&gt;&lt;td&gt;&quot; + $stat[1] + &quot;&lt;/td&gt;&lt;td&gt;&quot;

if ($stat[19] -eq &quot;0&quot;) {$Html = $Html + $stat[19] + &quot;&lt;/td&gt;&lt;td&gt;&quot; + $stat[20] + &quot;&lt;/td&gt;&lt;td&gt;&quot;}
else {$Html = $Html + &quot;&lt;div class=&quot;&quot;Critical&quot;&quot;&gt;&quot; + $stat[19] + &quot;&lt;/div&gt;&lt;/td&gt;&lt;td&gt;&lt;div class=&quot;&quot;Critical&quot;&quot;&gt;&quot; + $stat[20] + &quot;&lt;/div&gt;&lt;/td&gt;&lt;td&gt;&quot;}

if ($stat[35] -eq &quot;0&quot;) {$Html = $Html + $stat[35] + &quot;&lt;/td&gt;&lt;td&gt;&quot; + $stat[36] + &quot;&lt;/td&gt;&lt;td&gt;&quot;}
else {$Html = $Html + &quot;&lt;div class=&quot;&quot;Critical&quot;&quot;&gt;&quot; + $stat[35] + &quot;&lt;/div&gt;&lt;/td&gt;&lt;td&gt;&lt;div class=&quot;&quot;Critical&quot;&quot;&gt;&quot; + $stat[36] + &quot;&lt;/div&gt;&lt;/td&gt;&lt;td&gt;&quot;}

if ($stat[37] -eq &quot;0&quot;) {$Html = $Html + $stat[37] + &quot;&lt;/td&gt;&lt;td&gt;&quot; + $stat[38] + &quot;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;}
else {$Html = $Html + &quot;&lt;div class=&quot;&quot;Critical&quot;&quot;&gt;&quot; + $stat[37] + &quot;&lt;/div&gt;&lt;/td&gt;&lt;td&gt;&lt;div class=&quot;&quot;Critical&quot;&quot;&gt;&quot; + $stat[38] + &quot;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;}
}
else {
$Html = $Html + &quot;&lt;span class=&quot;&quot;Critical&quot;&quot;&gt;No Slave Status&lt;/span&gt;&lt;br/&gt;&quot;
}
</code></pre>
<p>基本上就是分開數位子，就完成了。</p>
</div><!-- comment system--><div class="container"><hr><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'sujunmin';
var disqus_identifier = '2016/12/27/從 SQL Server 到 MariaDB - [10] DBA Daily Check Report 的製作 [2]/';
var disqus_title = '從 SQL Server 到 MariaDB - [10] DBA Daily Check Report 的製作 [2]';
var disqus_url = 'https://sujunmin.github.io/blog/2016/12/27/從 SQL Server 到 MariaDB - [10] DBA Daily Check Report 的製作 [2]/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><footer id="footer"><div class="container"><div class="bar"><div class="social"><a href="http://twitter.com/sujunmin_" target="_blank"><i class="fa fa-twitter"></i></a><a href="https://github.com/sujunmin" target="_blank"><i class="fa fa-github"></i></a><a href="https://plus.google.com/+JunMingSu" target="_blank"><i class="fa fa-google-plus"></i></a><a href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></div><div class="footer">© 2018 <a href="/" rel="nofollow">隨意記事</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/very-simple">very-simple</a>.</div></div></div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-78894509-1');ga('send','pageview');</script></body></html>